<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>X16 Files</title>
<style>
  :root{
    --nav-bg:#2a2f3d;
    --card-border:#d3d6de;
    --card-radius:12px;
    --dark-gray:#2a3040;

    /* 7-color palette (no pink) */
    --c1:#9bb8ff; /* indigo */
    --c2:#64b5ff; /* sky */
    --c3:#63e6be; /* mint */
    --c4:#ffe66d; /* yellow */
    --c5:#f6bd60; /* amber */
    --c6:#f8961e; /* orange */
    --c7:#f94144; /* red */

    /* band thickness */
    --band: 28px;
  }

  body{
    font-family:monospace;
    background:#fff;
    color:#1a1a1a;
    margin:0;
  }

  header{
    background:var(--nav-bg);
    color:#e5e8f0;
    padding:10px 24px;
    display:flex;
    align-items:center;
    justify-content:space-between;
  }

  header h1{
    font-size:20px;
    letter-spacing:1px;
    margin:0;
    color:#e5e8f0; /* ensure visible on dark header */
  }

  header nav a{
    color:#e5e8f0;
    margin-left:24px;
    text-decoration:none;
  }

  header nav a:hover{
    text-decoration:underline;
  }

  /* Search bar styling */
  header form.search-bar {
    margin-left: 32px;
  }

  header form.search-bar input[type="text"] {
    padding: 6px 10px;
    border-radius: 6px;
    border: 1px solid #555;
    font-size: 14px;
  }

  header form.search-bar input[type="submit"] {
    padding: 6px 12px;
    margin-left: 6px;
    border-radius: 6px;
    border: none;
    background: #4a90e2;
    color: white;
    cursor: pointer;
  }

  header form.search-bar input[type="submit"]:hover {
    background: #6ab0ff;
  }

  main{
    margin:40px auto;
    max-width:1100px;
  }

  /* Only style the main page title, not header h1 */
  main h1{
    text-align:center;
    margin-bottom:20px;
    color:#111;
  }

  table{
    border-collapse:separate;
    border-spacing:18px;
    margin:auto;
  }

  td{
    width:320px;
    /* no fixed height; let content define it */
    background:var(--dark-gray);
    border:1px solid var(--card-border);
    border-radius:var(--card-radius);
    overflow:hidden;
    box-shadow:0 1px 0 rgba(0,0,0,.15);
    vertical-align:top;
  }

  .card-top{
    height:16px;
    image-rendering: pixelated;
    background-size: 100% 100%;
    background-repeat: repeat;
  }

  /* Left + middle columns â†˜ (225Â°) */
  .c1,.c2,.c4,.c5,.c7,.c8 {
    background:
      repeating-linear-gradient(225deg,
        var(--c1) 0                calc(var(--band)*1),
        var(--c2) calc(var(--band)*1) calc(var(--band)*2),
        var(--c3) calc(var(--band)*2) calc(var(--band)*3),
        var(--c4) calc(var(--band)*3) calc(var(--band)*4),
        var(--c5) calc(var(--band)*4) calc(var(--band)*5),
        var(--c6) calc(var(--band)*5) calc(var(--band)*6),
        var(--c7) calc(var(--band)*6) calc(var(--band)*7)
      );
  }

  /* Right column â†™ (135Â°) */
  .c3,.c6,.c9 {
    background:
      repeating-linear-gradient(135deg,
        var(--c1) 0                calc(var(--band)*1),
        var(--c2) calc(var(--band)*1) calc(var(--band)*2),
        var(--c3) calc(var(--band)*2) calc(var(--band)*3),
        var(--c4) calc(var(--band)*3) calc(var(--band)*4),
        var(--c5) calc(var(--band)*4) calc(var(--band)*5),
        var(--c6) calc(var(--band)*5) calc(var(--band)*6),
        var(--c7) calc(var(--band)*6) calc(var(--band)*7)
      );
  }

  .card-mid{
    /* let this grow with title length */
    padding: 8px 12px;
    min-height: 40px;
    font-size:20px;
    background:var(--dark-gray);
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
  }

  .card-mid a{
    color:#8ec5ff;
    text-decoration:none;
  }

  .card-mid a:hover{
    text-decoration:underline;
  }


  .card-bot{
    height:26px;border-top:1px solid var(--card-border);padding:0 12px;
    display:flex;align-items:center;justify-content:flex-end;color:#c0c6d4;font-size:14px;background:var(--dark-gray);
  }


  td:hover{
    transform:translateY(-2px);
    box-shadow:0 6px 16px rgba(0,0,0,.1);
    transition:.15s;
  }

  footer{
    text-align:center;
    color:#444;
    font-size:14px;
    margin:40px 0 20px;
  }

  footer a{
    color:#0055cc;
    text-decoration:none;
  }

  footer a:hover{
    text-decoration:underline;
  }

  .card-desc{
  padding:6px 12px 0 12px;
  color:#cbd3e6; font-size:14px; line-height:1.25;
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:8;
  min-height: calc(1.25em * 8);
  overflow:hidden;
  background:var(--dark-gray);
  }
 
  .card-footer{
    border-top:1px solid var(--card-border);
    padding:4px 12px 8px;
    color:#e5e8f0;          /* make footer text same light color */
    font-size:12px;
    background:var(--dark-gray);
    display:flex;
    justify-content:center;
    align-items:center;
    white-space:nowrap;
  }

  .back-to-top {
    position: fixed;
    right: 20px;
    bottom: 20px;
    padding: 6px 10px;
    background: #2a2f3d;      /* match your header/nav color */
    color: #e5e8f0;
    border-radius: 6px;
    font-size: 14px;
    text-decoration: none;
    box-shadow: 0 2px 6px rgba(0,0,0,.3);
    z-index: 1000;
  }

  .back-to-top:hover {
    background: #3b4256;
  }

  .no-results {
    text-align: center;
    margin: 80px 0;
    color: #555;
    font-size: 16px;
  }
  
  /* Google-ish centered search bar */
  .big-search {
    margin-top: 20px;
  }
  
  .big-search input[type="text"] {
    width: 480px;
    max-width: 90vw;
    padding: 10px 14px;
    font-size: 18px;
    border-radius: 24px;
    border: 1px solid #d0d0d0;
    outline: none;
    box-shadow: 0 1px 4px rgba(0,0,0,0.15);
  }
  
  .big-search input[type="text"]:focus {
    border-color: #4a90e2;
    box-shadow: 0 0 0 2px rgba(74,144,226,0.25);
  }
  
  .big-search input[type="submit"] {
    margin-left: 10px;
    padding: 10px 18px;
    font-size: 16px;
    border-radius: 24px;
    border: 1px solid #d0d0d0;
    background: #f8f8f8;
    cursor: pointer;
  }
  
  .big-search input[type="submit"]:hover {
    background: #f0f0f0;
  }
</style>
</head>
<body id="top">
  <header>
    <h1><a href=/ style="color:#e5e8f0; text-decoration:underline; text-decoration-style:dashed;">X16 FILES</a></h1>
    <nav>
      <a href="/hub">Hub</a>
      <a href="./authors.html">Authors A-Z</a>
      <a href="./leaderboard.html">Leaderboard</a>
      <a href="https://discord.gg/nS2PqEC">Discord</a>
      <a href="https://cx16forum.com/forum/viewforum.php?f=29">Forum</a>
    </nav>

    <form class="search-bar" method="get" action="/cgi-bin/search-x16files.pl">
      <input type="text" name="q" placeholder="Search X16 Files"¦>
      <input type="submit" value="Search">
    </form>

    <nav>
      <a href="https://github.com/retrodores/x16files.com/issues" target=_other><strong>Report Issue</strong></a>
    </nav>
  </header>

  <main>
    <h1>Search Results for "[% query -%]"</h1>
    [% message -%]
[% IF results.size %]
<table>
[% SET cols = 3 %]

[% FOREACH item IN results %]
    [% SET i = loop.index %]

    [% IF i mod cols == 0 %]
      <tr>
    [% END %]

<td>
  <div class="card-top c8"></div>

  <div class="card-mid">
[% IF item.urls.x16forum.defined -%]
  <a href="[% item.urls.x16forum | html %]">
    [% item.name %]
  </a>
[% ELSIF item.urls.source.defined -%]
  <a href="[% item.urls.source | html %]">
    [% item.name %]
  </a>
[% ELSIF item.urls.website.defined -%]
  <a href="[% item.urls.website | html %]">
    [% item.name %]
  </a>
[% END -%]
  </div>

  <div class="card-desc">
    [% item.description | html %]
  </div>

  <div class="card-bot">
    [% IF item.version %]
      [% item.version | html %]
    [% END %]
    [% IF item.author.name %]
      [% item.author.name | html %]
    [% END %]
  </div>
</td>

    [% IF (i+1) mod cols == 0 %]
      </tr>
    [% END %]
[% END %]

[% IF results.size mod cols != 0 %]
      </tr>
[% END %]

</table>
[% ELSE %]
<div class="no-results">
  <p>No results found. Try another search:</p>

  <form class="big-search" method="get" action="/cgi-bin/search-x16files.pl">
    <input type="text" name="q" placeholder="Search X16 Files">
    <input type="submit" value="Search">
  </form>
</div>
[% END %]
  </main>

  <footer>
    Inspired by <a href="https://msxhub.com/categories" target="_blank">MSX Hub</a> |
    Designed for X16 enthusiasts |
    <a href="https://github.com/retrodores/x16files.com/tree/master/files" target="_other">Add or update on Github!</a>
  </footer>
  <a href="#top" class="back-to-top">^ Top</
</body>
</html>

